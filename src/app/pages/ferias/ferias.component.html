<navbar></navbar>
<sidebar></sidebar>

<div class="container-base">
  <div class="content-page">
    <div class="card-header">
      <div class="card-title"> Cadastro de Ferias </div>
      <div (click)="goToListFerias()" class="card-menu">Listagem de Ferias</div>
    </div>

    <form class="form-page" [formGroup]="feriasForm" (submit)="enviar()">
      <div class="row">
        <div class="group-row">
          <label>Selecione o funcionário</label>
          <ng-select class="select-padrao" [(ngModel)]="funcionarioselect" [items]="listFuncionarios" bindLabel="name"
            [multiple]="false" [clearable]="false" [searchable]="false" formControlName="funcionarioselect"></ng-select>
        </div>
      </div>

      <div class="row">
        <div class="group-row">
          <label>Data de início</label>
          <input type="date" name="dataInicio" id="dataInicio" placeholder="Data de início" formControlName="dataInicio"
            required />
          <label class="error-input" *ngIf="feriasForm.get('dataInicio')?.errors?.['required']
                    && !feriasForm.get('dataInicio')?.pristine">
            Campo Obrigatório!
          </label>
        </div>
      </div>

      <div class="row">
        <div class="group-row">
          <label>Data de encerramento</label>
          <input type="date" name="dataEncerramento" id="dataEncerramento" placeholder="Data de encerramento"
            formControlName="dataEncerramento" required />
          <label class="error-input" *ngIf="feriasForm.get('dataEncerramento')?.errors?.['required']
                    && !feriasForm.get('dataEncerramento')?.pristine">
            Campo Obrigatório!
          </label>
          <label class="error-input" *ngIf="feriasForm.get('dataEncerramento').errors?.['dateValid']">
            As férias não podem exceder 30 dias
          </label>
        </div>
      </div>

      <div class="row">
        <div class="group-row">
          <mat-slide-toggle class="group-slide" [color]="color" [checked]="checked" [disabled]="disabled"
            (change)="handleChangePago($event)">
            Pago?
          </mat-slide-toggle>
        </div>
      </div>

      <div class="row">
        <div class="group-row">
          <input type="submit" [disabled]="feriasForm.invalid" value="Salvar" class="btn-primary" />
        </div>
      </div>
    </form>
  </div>
</div>
